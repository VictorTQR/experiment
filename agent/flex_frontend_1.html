<!-- from z.ai glm-4.7 -->
<!-- 
ç°åœ¨åˆ¶ä½œä¸€ä¸ªå¤æ‚æ™ºèƒ½ä½“é¡¹ç›®ï¼Œéœ€è¦å®ç°æ™ºèƒ½ä½“å›å¤æ¶ˆæ¯çš„å±•ç¤ºï¼š
1. å±•ç¤ºæ•°æ®åŒ…å«æ€è€ƒå†…å®¹ï¼Œå·¥å…·è°ƒç”¨ï¼Œæ­£å¼å›å¤ä¸‰ç§
2. æ™ºèƒ½ä½“çš„æ‰§è¡Œæµç¨‹å¯èƒ½æ¯”è¾ƒé•¿ï¼Œå› æ­¤ä¼šå‡ºç°å¤šæ¬¡è°ƒç”¨
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤æ‚æ™ºèƒ½ä½“äº¤äº’æ¨¡æ‹Ÿå™¨</title>
    <style>
        :root {
            --bg-color: #f7f9fb;
            --chat-bg: #ffffff;
            --primary-color: #4f46e5;
            --primary-hover: #4338ca;
            --text-main: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --thinking-bg: #f9fafb;
            --thinking-border: #e5e7eb;
            --tool-bg: #f3f4f6;
            --tool-border: #d1d5db;
            --user-msg-bg: #4f46e5;
            --user-msg-text: #ffffff;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        header {
            background-color: var(--chat-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-sm);
            z-index: 10;
        }

        .agent-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .agent-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .agent-details h1 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .agent-status {
            font-size: 0.85rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--success-color);
        }

        .status-dot.busy {
            background-color: var(--warning-color);
            animation: pulse 1.5s infinite;
        }

        /* Main Chat Area */
        main {
            flex: 1;
            overflow-y: auto;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            scroll-behavior: smooth;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .message-row {
            display: flex;
            gap: 1rem;
            width: 100%;
        }

        .message-row.user {
            flex-direction: row-reverse;
        }

        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .avatar.agent {
            background-color: #e0e7ff;
            color: var(--primary-color);
        }

        .avatar.user {
            background-color: var(--text-secondary);
            color: white;
        }

        .message-content {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-width: 85%;
        }

        .bubble {
            padding: 1rem;
            border-radius: var(--radius-md);
            line-height: 1.6;
            font-size: 0.95rem;
            position: relative;
        }

        .user .bubble {
            background-color: var(--user-msg-bg);
            color: var(--user-msg-text);
            border-bottom-right-radius: 2px;
        }

        .agent .bubble {
            background-color: var(--chat-bg);
            border: 1px solid var(--border-color);
            border-bottom-left-radius: 2px;
            box-shadow: var(--shadow-sm);
        }

        /* Complex Agent Components Styles */
        
        /* Thinking Block */
        .thinking-block {
            background-color: var(--thinking-bg);
            border: 1px solid var(--thinking-border);
            border-radius: var(--radius-sm);
            font-size: 0.85rem;
            color: var(--text-secondary);
            overflow: hidden;
        }

        .thinking-header {
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: rgba(0,0,0,0.02);
            user-select: none;
            transition: background 0.2s;
        }

        .thinking-header:hover {
            background-color: rgba(0,0,0,0.04);
        }

        .thinking-icon {
            font-size: 0.9rem;
        }

        .thinking-content {
            padding: 0.75rem;
            border-top: 1px solid var(--thinking-border);
            white-space: pre-wrap;
            display: none; /* Hidden by default */
            background-color: white;
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.5;
        }
        
        .thinking-content.open {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        /* Tool Call Block */
        .tool-call {
            background-color: var(--tool-bg);
            border: 1px solid var(--tool-border);
            border-radius: var(--radius-sm);
            padding: 0.75rem;
            font-size: 0.85rem;
            margin-top: 4px;
        }

        .tool-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-main);
        }

        .tool-badge {
            background-color: #e0e7ff;
            color: var(--primary-color);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            text-transform: uppercase;
        }

        .tool-details {
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 0.5rem;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.8rem;
            color: #4b5563;
            overflow-x: auto;
        }

        .tool-result {
            margin-top: 6px;
            padding-top: 6px;
            border-top: 1px dashed var(--tool-border);
            color: var(--text-secondary);
        }

        .tool-result.success { color: var(--success-color); }
        .tool-result.error { color: #ef4444; }

        /* Input Area */
        footer {
            background-color: var(--chat-bg);
            border-top: 1px solid var(--border-color);
            padding: 1.5rem;
        }

        .input-container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            display: flex;
            gap: 10px;
        }

        textarea {
            flex: 1;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            resize: none;
            height: 60px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        button.send-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            padding: 0 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button.send-btn:hover {
            background-color: var(--primary-hover);
        }
        
        button.send-btn:disabled {
            background-color: #a5a6f6;
            cursor: not-allowed;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
            70% { box-shadow: 0 0 0 6px rgba(245, 158, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
        }
        
        @keyframes blink {
            0% { opacity: .2; }
            20% { opacity: 1; }
            100% { opacity: .2; }
        }

        .typing-cursor::after {
            content: 'â–‹';
            display: inline-block;
            vertical-align: baseline;
            animation: blink 1s step-end infinite;
            color: var(--text-main);
            font-size: 0.8em;
            margin-left: 2px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: #9ca3af;
        }
    </style>
</head>
<body>

<header>
    <div class="agent-info">
        <div class="agent-avatar">AI</div>
        <div class="agent-details">
            <h1>é«˜çº§åˆ†æåŠ©æ‰‹</h1>
            <div class="agent-status">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">åœ¨çº¿å‡†å¤‡å°±ç»ª</span>
            </div>
        </div>
    </div>
    <div style="font-size: 0.9rem; color: var(--text-secondary);">
        æ¨¡å‹: Agent-Pro-v1
    </div>
</header>

<main id="chatContainer">
    <!-- Initial Welcome Message -->
    <div class="message-row agent">
        <div class="avatar agent">ğŸ¤–</div>
        <div class="message-content">
            <div class="bubble">
                ä½ å¥½ï¼æˆ‘æ˜¯ä¸€ä¸ªå…·å¤‡å¤æ‚æ¨ç†å’Œå·¥å…·è°ƒç”¨èƒ½åŠ›çš„æ™ºèƒ½ä½“ã€‚ä½ å¯ä»¥è®©æˆ‘å¸®ä½ æŸ¥è¯¢å¤©æ°”ã€è¿›è¡Œæ•°æ®è®¡ç®—æˆ–åˆ†æä»£ç ã€‚æˆ‘ä¼šå±•ç¤ºæˆ‘çš„æ€è€ƒè¿‡ç¨‹å’Œä½¿ç”¨çš„å·¥å…·ã€‚
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="input-container">
        <textarea id="userInput" placeholder="è¾“å…¥ä½ çš„æŒ‡ä»¤... (ä¾‹å¦‚: å¸®æˆ‘æŸ¥è¯¢åŒ—äº¬ç°åœ¨çš„å¤©æ°”ï¼Œå¹¶è®¡ç®—ä¸€ä¸‹å¦‚æœæ°”æ¸©å‡é«˜5åº¦æ˜¯å¤šå°‘)" onkeydown="handleEnter(event)"></textarea>
        <button class="send-btn" id="sendBtn" onclick="handleSend()">
            å‘é€
        </button>
    </div>
</footer>

<script>
    const chatContainer = document.getElementById('chatContainer');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');

    let isProcessing = false;

    // å·¥å…·å®šä¹‰
    const TOOLS = {
        weather: {
            name: "Weather_Search",
            desc: "å®æ—¶å¤©æ°”æŸ¥è¯¢å·¥å…·",
            icon: "ğŸŒ¤ï¸"
        },
        calculator: {
            name: "Math_Engine",
            desc: "é«˜çº§æ•°å­¦è®¡ç®—å™¨",
            icon: "ğŸ§®"
        },
        code_interpreter: {
            name: "Code_Interpreter",
            desc: "Python ä»£ç è§£é‡Šå™¨",
            icon: "ğŸ"
        }
    };

    // æ¨¡æ‹Ÿæ™ºèƒ½ä½“å›å¤çš„å¤æ‚é€»è¾‘
    async function handleSend() {
        const text = userInput.value.trim();
        if (!text || isProcessing) return;

        // 1. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        addMessage('user', text);
        userInput.value = '';
        userInput.style.height = '60px'; // Reset height
        setAgentStatus('busy');

        // 2. åˆ›å»ºæ™ºèƒ½ä½“å›å¤çš„å®¹å™¨
        const { messageContent, bubble } = addMessage('agent', '');
        bubble.classList.add('typing-cursor');

        // 3. æ¨¡æ‹Ÿå¤æ‚çš„å¤šæ­¥æ‰§è¡Œæµç¨‹
        await simulateComplexAgentFlow(text, messageContent, bubble);
        
        bubble.classList.remove('typing-cursor');
        setAgentStatus('ready');
    }

    // æ·»åŠ æ¶ˆæ¯åˆ°ç•Œé¢
    function addMessage(role, text) {
        const row = document.createElement('div');
        row.className = `message-row ${role}`;
        
        const avatar = document.createElement('div');
        avatar.className = `avatar ${role}`;
        avatar.textContent = role === 'user' ? 'ğŸ‘¤' : 'ğŸ¤–';

        const contentDiv = document.createElement('div');
        contentDiv.className = 'message-content';

        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        bubble.textContent = text;

        contentDiv.appendChild(bubble);
        row.appendChild(avatar);
        row.appendChild(contentDiv);
        
        chatContainer.appendChild(row);
        scrollToBottom();

        return { row, messageContent: contentDiv, bubble };
    }

    // è¾…åŠ©ï¼šæ·»åŠ æ€è€ƒå—
    function addThinkingBlock(contentDiv, thoughtText) {
        const block = document.createElement('div');
        block.className = 'thinking-block';
        
        const header = document.createElement('div');
        header.className = 'thinking-header';
        header.innerHTML = '<span class="thinking-icon">ğŸ§ </span> <span>æ·±åº¦æ€è€ƒè¿‡ç¨‹</span>';
        
        const content = document.createElement('div');
        content.className = 'thinking-content';
        content.textContent = thoughtText;

        header.onclick = () => {
            content.classList.toggle('open');
            const icon = header.querySelector('.thinking-icon');
            icon.textContent = content.classList.contains('open') ? 'ğŸ”½' : 'ğŸ§ ';
        };

        block.appendChild(header);
        block.appendChild(content);
        contentDiv.appendChild(block);
        scrollToBottom();
    }

    // è¾…åŠ©ï¼šæ·»åŠ å·¥å…·è°ƒç”¨å—
    function addToolCallBlock(contentDiv, toolKey, params, result) {
        const tool = TOOLS[toolKey];
        const block = document.createElement('div');
        block.className = 'tool-call';
        
        const header = document.createElement('div');
        header.className = 'tool-header';
        header.innerHTML = `<span>${tool.icon}</span> <span>è°ƒç”¨å·¥å…·: ${tool.name}</span> <span class="tool-badge">${tool.desc}</span>`;
        
        const details = document.createElement('div');
        details.className = 'tool-details';
        details.textContent = `è¾“å…¥å‚æ•°: ${JSON.stringify(params)}`;

        const resultDiv = document.createElement('div');
        resultDiv.className = `tool-result ${result.success ? 'success' : 'error'}`;
        resultDiv.innerHTML = `<strong>æ‰§è¡Œç»“æœ:</strong> ${result.data}`;

        block.appendChild(header);
        block.appendChild(details);
        if (result.data) block.appendChild(resultDiv);
        
        contentDiv.appendChild(block);
        scrollToBottom();
    }

    // æ ¸å¿ƒï¼šæ¨¡æ‹Ÿæ™ºèƒ½ä½“æ‰§è¡Œæµ
    async function simulateComplexAgentFlow(userQuery, container, finalBubble) {
        // æ­¥éª¤ 1: åˆå§‹æ€è€ƒ
        await wait(800);
        addThinkingBlock(container, `ç”¨æˆ·è¯¢é—®: "${userQuery}"\nåˆ†ææ„å›¾: éœ€è¦å¤šæ­¥éª¤å¤„ç†ã€‚\n1. è§£ææŸ¥è¯¢ä¸­çš„å…³é”®ä¿¡æ¯ã€‚\n2. åˆ¤æ–­æ˜¯å¦éœ€è¦å¤–éƒ¨æ•°æ®ã€‚\n3. è§„åˆ’å·¥å…·è°ƒç”¨é¡ºåºã€‚`);

        // æ­¥éª¤ 2: æ¨¡æ‹Ÿæ ¹æ®è¾“å…¥é€‰æ‹©å·¥å…· (è¿™é‡Œç®€å•åˆ¤æ–­å…³é”®è¯ï¼Œå®é™…é¡¹ç›®æ˜¯ LLM å†³ç­–)
        let toolsToUse = [];
        let finalResponseText = "";

        if (userQuery.includes("å¤©æ°”")) {
            toolsToUse.push({ type: 'weather', params: { city: "åŒ—äº¬", unit: "celsius" }, delay: 1500, res: "åŒ—äº¬ï¼Œæ™´ï¼Œæ°”æ¸© 22Â°Cï¼Œæ¹¿åº¦ 45%" });
        }
        if (userQuery.includes("è®¡ç®—") || userQuery.includes("åº¦")) {
            // å¦‚æœä¹‹å‰æŸ¥äº†å¤©æ°”ï¼Œè¿™é‡Œåšä¸ªå…³è”è®¡ç®—
            const temp = 22; 
            toolsToUse.push({ type: 'calculator', params: { expression: `${temp} + 5` }, delay: 1000, res: "27" });
        }
        if (userQuery.includes("ä»£ç ") || userQuery.includes("è§£é‡Š")) {
            toolsToUse.push({ 
                type: 'code_interpreter', 
                params: { code: "print('Hello Agent World')" }, 
                delay: 2000, 
                res: "Hello Agent World\n[Execution completed in 0.02s]" 
            });
        }

        // å¦‚æœæ²¡æœ‰è§¦å‘ç‰¹å®šå·¥å…·ï¼Œç»™ä¸ªé€šç”¨æ€è€ƒ
        if (toolsToUse.length === 0) {
            await wait(600);
            addThinkingBlock(container, "æŸ¥è¯¢æ„å›¾æ˜ç¡®ï¼Œæ— éœ€å¤–éƒ¨å·¥å…·ï¼Œç›´æ¥åŸºäºçŸ¥è¯†åº“ç”Ÿæˆå›å¤ã€‚");
            finalResponseText = "è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ã€‚åŸºäºæˆ‘çš„å†…éƒ¨çŸ¥è¯†ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ ...\n\n(æ­¤å¤„çœç•¥å…·ä½“å†…å®¹ï¼Œæ¨¡æ‹Ÿé€šç”¨å›å¤)";
        } else {
            // æ­¥éª¤ 3: ä¾æ¬¡æ‰§è¡Œå·¥å…·
            addThinkingBlock(container, "å·²åˆ¶å®šæ‰§è¡Œè®¡åˆ’ï¼Œå¼€å§‹è°ƒç”¨å·¥å…·é“¾...");
            
            let contextData = {};

            for (const tool of toolsToUse) {
                // å†æ¬¡æ€è€ƒï¼šä¸ºä»€ä¹ˆç”¨è¿™ä¸ªå·¥å…·
                addThinkingBlock(container, `æ­£åœ¨å‡†å¤‡è°ƒç”¨ ${TOOLS[tool.type].name}...\nç†ç”±: è·å–å¿…è¦çš„æ•°æ®ä»¥æ”¯æŒæœ€ç»ˆç»“è®ºã€‚`);
                
                await wait(tool.delay); // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
                
                addToolCallBlock(container, tool.type, tool.params, { success: true, data: tool.res });
                
                contextData[tool.type] = tool.res;
            }

            // æ­¥éª¤ 4: æœ€ç»ˆæ€»ç»“ä¸ç”Ÿæˆå›å¤
            await wait(800);
            addThinkingBlock(container, "å·¥å…·è°ƒç”¨ç»“æŸï¼Œæ•°æ®æ”¶é›†å®Œæ¯•ã€‚\næ­£åœ¨ç»¼åˆæ€è€ƒç»“æœå¹¶ç»„ç»‡è¯­è¨€...");
            
            // ç®€å•çš„å›å¤ç”Ÿæˆé€»è¾‘
            if (contextData.weather && contextData.calculator) {
                finalResponseText = `æ ¹æ®æŸ¥è¯¢ç»“æœï¼š\n\nå½“å‰ ${contextData.weather}ã€‚\n\næŒ‰ç…§æ‚¨çš„è¦æ±‚ï¼Œå¦‚æœæ°”æ¸©å‡é«˜ 5 åº¦ï¼Œé¢„è®¡å°†è¾¾åˆ° **${contextData.calculator}Â°C**ã€‚è¿™æ˜¯ä¸€ä¸ªé€‚å®œæˆ·å¤–æ´»åŠ¨çš„æ¸©åº¦ã€‚`;
            } else if (contextData.weather) {
                finalResponseText = `æŸ¥è¯¢åˆ°æœ€æ–°çš„å¤©æ°”ä¿¡æ¯ï¼š${contextData.weather}ã€‚\nå¸Œæœ›è¿™ä¸ªä¿¡æ¯å¯¹æ‚¨çš„å‡ºè¡Œæœ‰æ‰€å¸®åŠ©ï¼`;
            } else if (contextData.code_interpreter) {
                finalResponseText = `ä»£ç å·²æ‰§è¡Œå®Œæ¯•ã€‚\n\n**è¾“å‡ºç»“æœï¼š**\n\`\`\`\n${contextData.code_interpreter}\n\`\`\`\nä»£ç è¿è¡Œæ— è¯¯ã€‚`;
            }
        }

        // æ­¥éª¤ 5: æ‰“å­—æœºæ•ˆæœè¾“å‡ºæœ€ç»ˆå›å¤
        await typeText(finalBubble, finalResponseText);
    }

    // æ‰“å­—æœºæ•ˆæœå·¥å…·
    async function typeText(element, text) {
        if (!text) return;
        element.textContent = '';
        // ç®€å•çš„ Markdown ç²—ç•¥è§£æå¤„ç† (ä»…å¤„ç† **åŠ ç²—**)
        // å®é™…ç”Ÿäº§ä¸­å»ºè®®ä½¿ç”¨ marked.js ç­‰åº“
        const parts = text.split(/(\*\*.*?\*\*|\n)/g); 

        for (const part of parts) {
            if (part.startsWith('\n')) {
                element.appendChild(document.createElement('br'));
                await wait(50);
            } else if (part.startsWith('**') && part.endsWith('**')) {
                const b = document.createElement('strong');
                b.textContent = part.slice(2, -2);
                element.appendChild(b);
                await wait(30);
            } else {
                for (const char of part) {
                    element.textContent += char;
                    await wait(20); // æ‰“å­—é€Ÿåº¦
                    scrollToBottom();
                }
            }
        }
        scrollToBottom();
    }

    // çŠ¶æ€ç®¡ç†
    function setAgentStatus(status) {
        isProcessing = status === 'busy';
        if (status === 'busy') {
            statusDot.classList.add('busy');
            statusText.textContent = 'æ­£åœ¨æ€è€ƒä¸æ‰§è¡Œ...';
            userInput.disabled = true;
            sendBtn.disabled = true;
        } else {
            statusDot.classList.remove('busy');
            statusText.textContent = 'åœ¨çº¿å‡†å¤‡å°±ç»ª';
            userInput.disabled = false;
            sendBtn.disabled = false;
            userInput.focus();
        }
    }

    // é€šç”¨å·¥å…·ï¼šç­‰å¾…
    function wait(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    // é€šç”¨å·¥å…·ï¼šæ»šåŠ¨åˆ°åº•éƒ¨
    function scrollToBottom() {
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    // è¾“å…¥æ¡†å›è½¦å¤„ç†
    function handleEnter(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            handleSend();
        }
    }
</script>

</body>
</html>
